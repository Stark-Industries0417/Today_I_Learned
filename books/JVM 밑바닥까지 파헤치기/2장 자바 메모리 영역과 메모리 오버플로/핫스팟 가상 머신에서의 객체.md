
> [!info] GC 컴팩트 지원하지 않을 시에 객체 생성 시 자바 힙 메모리 할당 방법
> 가상 머신은 가용 메모리 블록들을 목록으로 따로 관리한다.
> 객체 인스턴스 담기에 충분한 공간을 찾아 블록에 할당한 후 목록 갱신한다
> 메모리 할당이 끝났다면 해당 공간을 0으로 초기화한다.
> (이 때문에 인스턴스 필드를 초기화하지 않고도 사용할 수 있는 이유이다.)



## 객체 생성
new 명령에 해당하는 바이트 코드 만났을 시 이 명령의 매개변수가 상수 풀 안의 클래스를 가리키는 심벌 참조인지 확인한다. 그 후 심벌 참조가 뜻하는 클래스가 로딩, 해석, 초기화 되었는지 확인한다.
### 멀티 쓰레드에서 객체 생성 시 동기화 문제
1. 메모리할당 동기화 방법
	- 비교 및 교환과 실패 시 재시도 방식의 가상머신은 갱신을 원자적으로 수행
2. 스레드마다 다른 메모리 공간 할당하는 방법
	- 스레드 각각이 자바 힙 내에 작은 크기의 전용 메모리를 미리 할당(스레드 로컬 할당 버퍼(TLAB))
## 객체 헤더
- 어느 클래스의 인스턴스 인지
- 클래스의 메타 정보는 어떻게 찾는지
- GC 세대 나이는 얼마인지
위 정보 등을 각 객체의 객체 헤더에 저장한다.

#JVM 