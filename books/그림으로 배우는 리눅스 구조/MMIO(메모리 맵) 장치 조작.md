
[[메모리 맵 파일 기능이란]]

| 레지스터 오프셋 | 역할                                                       |
| -------- | -------------------------------------------------------- |
| 0        | 읽고 쓰기에 사용하는 메모리 영역 시작 주소                                 |
| 10       | 저장 장치 내부의 읽고 쓰기에 사용하는 데이터 영역 시작 주소                       |
| 20       | 읽고 쓰기 크기                                                 |
| 30       | 처리 요청에 사용. 0이면 읽기 요청. 1이면 쓰기 요청                          |
| 40       | 요청한 처리가 끝났는지 여부를 나타내는 플래그 처리를 요청한 시점에 0이 되고 처리가 끝나면 1이 됨 |

메모리 영역 100 ~ 200으로 저장 장치 내부 주소 300 ~ 400 영역에 있는 데이터를 읽는 상황
1. 디바이스 드라이버가 저장 장치의 데이터를 메모리의 어디로 가져올지 지정
	1. 메모리 주소 500(레지스터 오프셋 0)에 **읽은 데이터를 저장할 주소 100**을 기록
		- 얼마나 읽을건지
	2. 메모리 주소 510(레지스터 오프셋 10)에 **저장 장치 내부의 읽을 주소 300**을 기록
		- 어디부터 읽을건지
	3. 메모리 주소 520(레지스터 오프세 20)에 **읽을 데이터 크기 100**을 기록
2. 디바이스 드라이버가 메모리 주소 530(레지스터 오프셋 30)에 읽기 요청 뜻하는 0 기록
	- 무슨 요청인지
3. 장치가 메모리 주소 540(레지스터 오프셋 40)에 요청 처리 중 상태 뜻하는 0 기록
	- 처리 완료 여부 플래그
4. 장치가 장치의 주소 300~400 영역에 있는 데이터를 메모리 주소 100 이후로 전송
5. 장치가 요청 처리 완료 표시를 메모리 주소 540(레지스터 오프셋 40)에 값을 1로 변경
6. 디바이스 드라이버가 요청된 처리 완료를 확인


#linux 
