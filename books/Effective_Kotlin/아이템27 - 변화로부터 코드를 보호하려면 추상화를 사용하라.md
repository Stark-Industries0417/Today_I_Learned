
## 추상화의 종류
### 상수
### [[함수]] 
### [[클래스]]
### [[인터페이스]]
## ID 만들기
``` kotlin
var nextId: Int = 0
val nextId = nextId++

위 코드의 문제점
- ID는 무조건 0부터 시작하게됨
- 스레드 안전하지 않다.

변경으로부터 코드를 보호할 수 있게 함수를 사용
private var nextId: Int = 0
fun getNextId(): Int = nextId++
ID 생성 방식의 변경으로부터는 보호되지만, ID 타입 변경 등은 대응하지 못한다.
여러 연산들이 타입에 종속적이게 작성되었다면 변경하지 못하게 된다.

ID 타입을 쉽게 변경할 수 있게 클래스 사용하는 것이 좋다.

data class Id(private id: Int)

private var nextId: Int = 0
fun getNextId(): Id = Id(nextId++)
```
## 추상화를 하는 방법
- 상수로 추출
- 동작을 함수로 래핑
- 함수를 클래스로 래핑
- 인터페이스 뒤에 클래스를 숨김
- 보편적인 객체를 특수한 객체로 래핑
## 추상화의 문제
- 생각할 것을 숨겨야 개발이 쉬워지지만 너무 많은 것을 숨기면 결과를 이해하는것 자체가 어려워진다.
- 추상화가 너무 많으면 코드를 이해하기 어렵다.
## 추상화를 사용할 수 있는 규칙
- 많은 개발자가 참여하는 프로젝트는 이후에 객체 생성과 사용 방법을 변경하기 어렵기 때문에 추상화 하는 것이 좋다. 
- 최대한 모듈과 부분을 분리하는 것이 좋다.
- 테스트하거나, 다른 애플리케이션을 기반으로 새로운 애플리케이션을 만든다면 추상화를 사용하는 것이 좋다.
- 프로젝트가 작고 실험적이라면, 추상화를 하지 않고도 직접 변경해도 괜찮다.

> [!summary] 정리
> - 추상화는 단순하게 중복성을 제거해서 코드를 구성하는 것이 아니다.
> - 추상화는 코드를 변경해야 할 때 도움이 된다.
> - 추상화가 너무 많거나 너무 적은 상황 모두 좋은 상황이 아니다.


#effective 